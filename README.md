# Infra_sp2

### Описание:
Api для проекта YaMDb, который собирает отзывы пользователей на произведения.

Проект позволяет выполнять следующие операции:
* Регистрация нового пользователя/получение JWT токена
* Получение списка всех пользователей
* Добавление пользователя
* Получение/изменение/удаление пользователя по username
* Получение/изменение своей учетной записи
* Получение списка всех отзывов
* Добавление нового отзыва
* Получение/редактирование/удаление отзыва
* Получение списка всех комментариев к отзыву
* Добавление комментария к отзыву
* Получение/редактирование/удаление комментария
* Получение списка всех категорий
* Добавление новой категории
* Удаление категории
* Получение списка всех жанров
* Добавление нового жанра
* Удаление категории
* Получение списка всех произведений
* Добавление произведения
* Получение/обновление/удаление произведения

### Как запустить проект:

Клонировать репозиторий и перейти в него в командной строке:

```
git clone https://github.com/etozhesavva/infra_sp2.git
```

```
cd infra
```

Развернуть докер контэйнеры:
```
sudo docker-compose up
```

Выполнить миграции и собрать статику
```
docker-compose exec web python manage.py migrate
docker-compose exec web python manage.py createsuperuser
docker-compose exec web python manage.py collectstatic --no-input
```

### Данные:

Для того, чтобы массово импортировать набор данных в выбранную модель, загрузите файл с данными (CSV) относительно базовой директории проекта - например static/data/file-for-import.csv, затем выполните команду:

```
python manage.py import_csv --path /static/data/<fileName> --model <modelName> --app <appName>
```

### Запросы / ответы:
Документация, с подробным описанием доступных запросов, ответов и статусов, расположена по адресу http://127.0.0.1:8000/api/redoc/
